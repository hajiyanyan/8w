<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI模拟面试 | 职场实训沙盘</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin-top: 20px;
        }

        header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(90deg, #2c3e50, #4a6491);
            color: white;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        /* 导航栏样式 */
        .navbar {
            background: #2c3e50;
            position: relative;
            z-index: 1000;
        }

        .nav-list {
            display: flex;
            list-style: none;
            justify-content: space-around;
        }

        .nav-item {
            position: relative;
            flex: 1;
            text-align: center;
        }

        .nav-link {
            display: block;
            color: white;
            text-decoration: none;
            padding: 18px 20px;
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .nav-link:hover {
            background: #34495e;
            border-bottom: 3px solid #3498db;
        }

        .nav-link i {
            margin-right: 8px;
            font-size: 1.2rem;
        }

        /* 下拉菜单样式 */
        .dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-radius: 0 0 8px 8px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .nav-item:hover .dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 12px 20px;
            color: #333;
            text-decoration: none;
            border-bottom: 1px solid #f1f1f1;
            transition: all 0.2s ease;
            text-align: left;
        }

        .dropdown-item:hover {
            background: #f8f9fa;
            color: #3498db;
            padding-left: 25px;
        }

        .dropdown-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        /* 内容区域样式 */
        .content {
            padding: 40px;
            line-height: 1.6;
        }

        .content h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        .content p {
            margin-bottom: 15px;
            color: #555;
        }

        /* 面试准备区域 */
        .interview-prep {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .interview-prep h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .interview-prep h3 i {
            margin-right: 10px;
            color: #3498db;
        }

        .prep-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .prep-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .prep-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-color: #3498db;
        }

        .prep-card.active {
            border-color: #3498db;
            background: #e8f4fc;
        }

        .prep-icon {
            font-size: 2.5rem;
            color: #3498db;
            margin-bottom: 15px;
        }

        .prep-title {
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .prep-desc {
            color: #666;
            font-size: 0.9rem;
        }

        /* 面试区域 */
        .interview-area {
            margin-top: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .interview-area.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .interview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .interview-info {
            display: flex;
            gap: 20px;
        }

        .interview-status {
            background: #f8f9fa;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .timer {
            background: #3498db;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .timer.warning {
            background: #e74c3c;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .interview-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .question-area {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
        }

        .ai-avatar {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #3498db;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-right: 15px;
        }

        .ai-name {
            font-weight: 500;
            color: #2c3e50;
        }

        .ai-role {
            color: #666;
            font-size: 0.9rem;
        }

        .question-text {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }

        .question-text p {
            color: #2c3e50;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .answer-area {
            background: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }

        .answer-area h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .answer-area h3 i {
            margin-right: 10px;
            color: #3498db;
        }

        .answer-input {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            line-height: 1.5;
            resize: vertical;
            margin-bottom: 20px;
            transition: border-color 0.3s ease;
        }

        .answer-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        .interview-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .btn {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            border: none;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #2c3e50;
        }

        .btn-secondary:hover {
            background: #1a252f;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid #3498db;
            color: #3498db;
        }

        .btn-outline:hover {
            background: #3498db;
            color: white;
        }

        .btn-success {
            background: #27ae60;
        }

        .btn-success:hover {
            background: #219653;
        }

        /* 结果区域 */
        .result-area {
            margin-top: 30px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
            display: none;
        }

        .result-area.visible {
            display: block;
        }

        .score-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: #3498db;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .score-label {
            font-size: 1.2rem;
            color: #2c3e50;
            font-weight: 500;
        }

        .feedback-area {
            margin-top: 20px;
        }

        .feedback-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .feedback-question {
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .feedback-answer {
            color: #666;
            margin-bottom: 8px;
            padding-left: 15px;
            border-left: 2px solid #eee;
        }

        .feedback-result {
            display: flex;
            align-items: center;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .feedback-result.correct {
            color: #27ae60;
        }

        .feedback-result.incorrect {
            color: #e74c3c;
        }

        .feedback-result i {
            margin-right: 8px;
        }

        .correct-answer {
            background: #e8f4fc;
            padding: 12px;
            border-radius: 5px;
            margin-top: 10px;
            border-left: 4px solid #3498db;
        }

        .correct-answer h4 {
            color: #2c3e50;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }

        .correct-answer h4 i {
            margin-right: 8px;
            color: #3498db;
        }

        .keywords {
            margin-top: 10px;
        }

        .keywords h5 {
            color: #2c3e50;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }

        .keywords h5 i {
            margin-right: 8px;
            color: #3498db;
        }

        .keyword-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .keyword {
            background: #3498db;
            color: white;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
        }

        .keyword.matched {
            background: #27ae60;
        }

        .keyword.unmatched {
            background: #e74c3c;
        }

        /* 历史记录区域 */
        .history-area {
            margin-top: 40px;
        }

        .history-list {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .history-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-info {
            display: flex;
            flex-direction: column;
        }

        .history-date {
            font-weight: 500;
            color: #2c3e50;
        }

        .history-score {
            color: #666;
            font-size: 0.9rem;
        }

        .history-actions {
            display: flex;
            gap: 10px;
        }

        /* 响应式设计 */
        @media (max-width: 992px) {
            .nav-list {
                flex-wrap: wrap;
            }

            .nav-item {
                flex: 1 1 33.333%;
            }

            .interview-content {
                grid-template-columns: 1fr;
            }

            .prep-options {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-item {
                flex: 1 1 50%;
            }

            h1 {
                font-size: 2.2rem;
            }

            .interview-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .interview-info {
                width: 100%;
                justify-content: space-between;
            }
        }

        @media (max-width: 576px) {
            .nav-item {
                flex: 1 1 100%;
            }

            .dropdown {
                width: 100%;
                left: 0;
            }

            h1 {
                font-size: 1.8rem;
            }

            .interview-controls {
                flex-direction: column;
                gap: 10px;
            }

            .interview-controls .btn {
                width: 100%;
                text-align: center;
            }

            .history-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .history-actions {
                width: 100%;
                justify-content: space-between;
            }
        }

        footer {
            margin-top: 40px;
            text-align: center;
            color: white;
            padding: 20px;
            font-size: 1rem;
        }

        .highlight {
            color: #ffcc00;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <header>
        <h1>职场实训沙盘</h1>
        <p class="subtitle">致力于解决学业与就业脱节问题，模拟求职平台打分系统，从简历——面试——入职项目制作，我们将对所有环节进行打分。</p>
    </header>

    <div class="container">
        <nav class="navbar">
            <ul class="nav-list">
                <!-- 模块1：岗位分析 -->
                <li class="nav-item">
                    <a href="Post analysis.html" class="nav-link">
                        <i class="fas fa-home"></i>岗位分析
                    </a>
                    <div class="dropdown">
                        <a href="Post_analysis.html#Basic-situation" class="dropdown-item"><i
                                class="fas fa-star"></i>岗位信息</a>
                        <a href="Post_analysis.html#Skill-require" class="dropdown-item"><i
                                class="fas fa-bullhorn"></i>技能要求</a>
                        <a href="Post_analysis.html#Skill-require" class="dropdown-item"><i
                                class="fas fa-chart-line"></i>可视化分析</a>
                        <a href="Post_analysis.html#Develop-path" class="dropdown-item"><i
                                class="fas fa-question-circle"></i>职业发展路径</a>
                    </div>
                </li>

                <!-- 模块2：用户简历 -->
                <li class="nav-item">
                    <a href="Resume.html" class="nav-link">
                        <i class="fas fa-box-open"></i>用户简历
                    </a>
                    <div class="dropdown">
                        <a href="Resume_excellent.html" class="dropdown-item"><i class="fas fa-laptop"></i>模范简历选</a>
                        <a href="Resume_mould.html" class="dropdown-item"><i class="fas fa-mobile-alt"></i>简历模板</a>
                        <a href="Resume_test.html" class="dropdown-item"><i class="fas fa-cloud"></i>简历实训测评</a>
                        <a href="#" class="dropdown-item"><i class="fas fa-cogs"></i>简历优化建议</a>
                    </div>
                </li>

                <!-- 模块3：面试阶段-->
                <li class="nav-item">
                    <a href="Interview.html" class="nav-link">
                        <i class="fas fa-concierge-bell"></i>AI面试问
                    </a>
                    <div class="dropdown">
                        <a href="Interview.html" class="dropdown-item"><i class="fas fa-palette"></i>面试宝典</a>
                        <a href="Interview_AI.html" class="dropdown-item"><i class="fas fa-headset"></i>AI模拟面试</a>
                    </div>
                </li>

                <!-- 模块4：项目阶段 -->
                <li class="nav-item">
                    <a href="Project.html" class="nav-link">
                        <i class="fas fa-book"></i>项目实训
                    </a>
                    <div class="dropdown">
                        <a href="Project_test.html" class="dropdown-item"><i class="fas fa-file-alt"></i>技能自测题库</a>
                        <a href="Project_video.html" class="dropdown-item"><i class="fas fa-video"></i>视频教程</a>
                        <a href="Project_finall_test.html" class="dropdown-item"><i class="fas fa-blog"></i>项目完成度测评</a>
                    </div>
                </li>

                <!-- 模块5：超话社区 -->
                <li class="nav-item">
                    <a href="Evaluation.html" class="nav-link">
                        <i class="fas fa-users"></i>超话社区
                    </a>
                    
                </li>
            </ul>
        </nav>

        <div class="content">
            <h2>AI模拟面试</h2>
            <p>体验真实的面试环境，AI面试官将根据您的目标岗位提出问题，测试您的专业能力和应变能力。</p>

            <div class="interview-prep">
                <h3><i class="fas fa-cogs"></i>面试准备</h3>
                <p>请选择您要模拟的面试类型，AI面试官将根据您的选择提出问题。</p>

                <div class="prep-options">
                    <div class="prep-card" data-type="frontend">
                        <div class="prep-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="prep-title">前端开发工程师</div>
                        <div class="prep-desc">HTML/CSS/JavaScript，框架应用，性能优化等</div>
                    </div>

                    <div class="prep-card" data-type="backend">
                        <div class="prep-icon">
                            <i class="fas fa-server"></i>
                        </div>
                        <div class="prep-title">后端开发工程师</div>
                        <div class="prep-desc">数据库设计，API开发，系统架构等</div>
                    </div>

                    <div class="prep-card" data-type="fullstack">
                        <div class="prep-icon">
                            <i class="fas fa-layer-group"></i>
                        </div>
                        <div class="prep-title">全栈开发工程师</div>
                        <div class="prep-desc">前后端技术，项目部署，系统设计等</div>
                    </div>
                </div>

                <button class="btn" id="startInterviewBtn" style="margin-top: 20px; width: 100%;">开始模拟面试</button>
            </div>

            <div class="interview-area" id="interviewArea">
                <div class="interview-header">
                    <h3 id="interviewType">前端开发工程师 - 模拟面试</h3>
                    <div class="interview-info">
                        <div class="interview-status">问题 <span id="currentQuestionNum">1</span>/<span
                                id="totalQuestions">5</span></div>
                        <div class="timer" id="timer">02:00</div>
                    </div>
                </div>

                <div class="interview-content">
                    <div class="question-area">
                        <div class="ai-avatar">
                            <div class="avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div>
                                <div class="ai-name">AI面试官</div>
                                <div class="ai-role">高级技术面试官</div>
                            </div>
                        </div>

                        <div class="question-text">
                            <p id="currentQuestion">请先点击"开始模拟面试"按钮，AI面试官将向您提出问题。</p>
                        </div>

                        <div class="interview-tips">
                            <p><i class="fas fa-info-circle"></i> 提示：请根据问题在限定时间内作答，超时将自动提交答案。</p>
                        </div>
                    </div>

                    <div class="answer-area">
                        <h3><i class="fas fa-edit"></i>您的回答</h3>
                        <textarea class="answer-input" id="answerInput" placeholder="请在此输入您的回答..."></textarea>

                        <div class="interview-controls">
                            <button class="btn btn-outline" id="skipQuestionBtn">跳过此题</button>
                            <button class="btn" id="submitAnswerBtn">提交答案</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="result-area" id="resultArea">
                <div class="score-display">
                    <div class="score-circle" id="finalScore">0</div>
                    <div class="score-label">最终得分</div>
                </div>

                <div class="feedback-area" id="feedbackArea">
                    <!-- 反馈内容将通过JavaScript动态生成 -->
                </div>

                <div class="interview-controls" style="justify-content: center; margin-top: 30px;">
                    <button class="btn btn-secondary" id="reviewAnswersBtn">查看详细解析</button>
                    <button class="btn" id="restartInterviewBtn">重新开始面试</button>
                </div>
            </div>

            <div class="history-area">
                <h3><i class="fas fa-history"></i>历史测试记录</h3>
                <div class="history-list" id="historyList">
                    <!-- 历史记录将通过JavaScript动态生成 -->
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>© 2025 职场实训 | Chance favors the <span class="highlight">prepared</span> mind. </p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navItems = document.querySelectorAll('.nav-item');
            const prepCards = document.querySelectorAll('.prep-card');
            const startInterviewBtn = document.getElementById('startInterviewBtn');
            const interviewArea = document.getElementById('interviewArea');
            const resultArea = document.getElementById('resultArea');
            const currentQuestionNum = document.getElementById('currentQuestionNum');
            const totalQuestions = document.getElementById('totalQuestions');
            const timer = document.getElementById('timer');
            const currentQuestion = document.getElementById('currentQuestion');
            const answerInput = document.getElementById('answerInput');
            const submitAnswerBtn = document.getElementById('submitAnswerBtn');
            const skipQuestionBtn = document.getElementById('skipQuestionBtn');
            const finalScore = document.getElementById('finalScore');
            const feedbackArea = document.getElementById('feedbackArea');
            const reviewAnswersBtn = document.getElementById('reviewAnswersBtn');
            const restartInterviewBtn = document.getElementById('restartInterviewBtn');
            const historyList = document.getElementById('historyList');

            // 面试问题数据
            const questionsData = {
                frontend: [
                    {
                        id: 1,
                        question: "您好，感谢您参加我们的面试。首先，能否请您解释一下CSS盒模型的概念？",
                        timeLimit: 120,
                        keywords: ["内容", "内边距", "边框", "外边距", "标准盒模型", "IE盒模型"],
                        answer: "CSS盒模型是网页布局的基础概念，它描述了元素在页面中占据的空间。每个元素都被视为一个矩形盒子，由内容(content)、内边距(padding)、边框(border)和外边距(margin)组成。标准盒模型(width和height只包括内容区域)和IE盒模型(width和height包括内容、内边距和边框)的主要区别在于如何计算元素的宽度和高度。现代浏览器默认使用标准盒模型，可以通过box-sizing属性进行切换。"
                    },
                    {
                        id: 2,
                        question: "很好，接下来想了解一下JavaScript闭包。您能解释一下什么是闭包以及它的应用场景吗？",
                        timeLimit: 180,
                        keywords: ["函数", "词法作用域", "私有变量", "模块化", "内存泄漏"],
                        answer: "闭包是指函数能够访问并记住其词法作用域，即使该函数在其作用域之外执行。简单来说，闭包是函数和声明该函数的词法环境的组合。应用场景包括：创建私有变量和方法、实现函数柯里化、模块化开发、事件处理和回调函数。潜在问题主要是内存泄漏，因为闭包会保持对外部变量的引用，阻止垃圾回收。"
                    },
                    {
                        id: 3,
                        question: "现在让我们谈谈框架。您能比较一下React和Vue的主要区别吗？",
                        timeLimit: 150,
                        keywords: ["设计理念", "数据流", "模板语法", "状态管理", "学习曲线"],
                        answer: "React和Vue都是优秀的前端框架，主要区别包括：设计理念：React更注重函数式编程和不可变性，Vue更注重易用性和渐进式采用；数据流：React是单向数据流，Vue是双向数据绑定；模板语法：React使用JSX，Vue使用基于HTML的模板语法；状态管理：React需要配合Redux等库，Vue有内置的Vuex；学习曲线：Vue相对更平缓，React概念更多。两者都有虚拟DOM、组件化开发等共同点。"
                    },
                    {
                        id: 4,
                        question: "在实际工作中，您如何处理与设计师的意见分歧？",
                        timeLimit: 120,
                        keywords: ["理解意图", "技术分析", "替代方案", "沟通", "设计系统"],
                        answer: "我会采取以下方法：首先理解设计师的意图和设计目标，而不是直接否定；从技术角度分析实现的复杂度和成本，准备具体数据；提出替代方案，既保留设计核心价值又更易实现；组织设计-开发沟通会议，共同寻找最佳解决方案；建立设计系统和使用组件库，减少未来的类似分歧。关键是要保持专业和建设性的沟通态度。"
                    },
                    {
                        id: 5,
                        question: "最后，能否谈谈您未来3-5年的职业发展规划？",
                        timeLimit: 120,
                        keywords: ["技术深度", "架构设计", "团队指导", "技术专家", "技术管理"],
                        answer: "我的职业规划分为三个阶段：短期（1年内）：深入掌握公司技术栈，成为团队核心开发人员，为项目做出实质性贡献；中期（2-3年）：在技术深度和广度上扩展，学习架构设计，开始承担技术方案设计和团队指导工作；长期（3-5年）：根据公司需要和个人发展，向技术专家或技术管理方向发展，帮助团队解决更复杂的技术挑战。我相信贵公司能提供实现这些目标的机会和平台。"
                    }
                ]
                // 其他岗位的问题数据可以继续添加
            };

            // 面试状态变量
            let currentInterviewType = '';
            let currentQuestions = [];
            let currentQuestionIndex = 0;
            let userAnswers = [];
            let timerInterval;
            let timeLeft;

            // 初始化历史记录
            function initHistory() {
                const history = JSON.parse(localStorage.getItem('interviewHistory')) || [];
                historyList.innerHTML = '';

                if (history.length === 0) {
                    historyList.innerHTML = '<p style="text-align: center; color: #666;">暂无测试记录</p>';
                    return;
                }

                history.slice(0, 5).forEach((record, index) => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';

                    const date = new Date(record.date);
                    const formattedDate = `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;

                    historyItem.innerHTML = `
                        <div class="history-info">
                            <div class="history-date">${record.type} - 模拟面试</div>
                            <div class="history-score">得分: ${record.score}/100 | 日期: ${formattedDate}</div>
                        </div>
                        <div class="history-actions">
                            <button class="btn btn-outline view-history" data-index="${index}">查看详情</button>
                            <button class="btn delete-history" data-index="${index}">删除</button>
                        </div>
                    `;

                    historyList.appendChild(historyItem);
                });

                // 添加查看详情事件
                document.querySelectorAll('.view-history').forEach(btn => {
                    btn.addEventListener('click', function () {
                        const index = this.dataset.index;
                        viewHistoryDetails(index);
                    });
                });

                // 添加删除事件
                document.querySelectorAll('.delete-history').forEach(btn => {
                    btn.addEventListener('click', function () {
                        const index = this.dataset.index;
                        deleteHistory(index);
                    });
                });
            }

            // 查看历史记录详情
            function viewHistoryDetails(index) {
                const history = JSON.parse(localStorage.getItem('interviewHistory')) || [];
                const record = history[index];

                if (!record) return;

                // 显示结果区域
                showResults(record.answers, record.score, record.type);

                // 滚动到结果区域
                resultArea.scrollIntoView({ behavior: 'smooth' });
            }

            // 删除历史记录
            function deleteHistory(index) {
                const history = JSON.parse(localStorage.getItem('interviewHistory')) || [];
                history.splice(index, 1);
                localStorage.setItem('interviewHistory', JSON.stringify(history));
                initHistory();
            }

            // 选择面试类型
            prepCards.forEach(card => {
                card.addEventListener('click', function () {
                    prepCards.forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    currentInterviewType = this.dataset.type;
                });
            });

            // 开始面试
            startInterviewBtn.addEventListener('click', function () {
                if (!currentInterviewType) {
                    alert('请先选择面试类型！');
                    return;
                }

                // 重置状态
                currentQuestions = [...questionsData[currentInterviewType]];
                currentQuestionIndex = 0;
                userAnswers = [];

                // 显示面试区域
                interviewArea.classList.add('visible');

                // 滚动到面试区域
                interviewArea.scrollIntoView({ behavior: 'smooth' });

                // 隐藏结果区域
                resultArea.classList.remove('visible');

                // 开始第一个问题
                startQuestion();
            });

            // 开始问题
            function startQuestion() {
                if (currentQuestionIndex >= currentQuestions.length) {
                    finishInterview();
                    return;
                }

                const question = currentQuestions[currentQuestionIndex];
                currentQuestionNum.textContent = currentQuestionIndex + 1;
                totalQuestions.textContent = currentQuestions.length;
                currentQuestion.textContent = question.question;
                answerInput.value = '';

                // 设置计时器
                timeLeft = question.timeLimit;
                updateTimer();

                if (timerInterval) clearInterval(timerInterval);
                timerInterval = setInterval(updateTimer, 1000);

                // 重置计时器样式
                timer.classList.remove('warning');

                // 聚焦输入框
                answerInput.focus();
            }

            // 更新计时器
            function updateTimer() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                // 最后30秒警告
                if (timeLeft <= 30) {
                    timer.classList.add('warning');
                }

                // 时间到
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitAnswer();
                    return;
                }

                timeLeft--;
            }

            // 提交答案
            function submitAnswer() {
                const answer = answerInput.value.trim();
                const question = currentQuestions[currentQuestionIndex];

                // 保存答案
                userAnswers.push({
                    question: question.question,
                    answer: answer,
                    keywords: question.keywords,
                    correctAnswer: question.answer
                });

                // 下一题
                currentQuestionIndex++;
                startQuestion();
            }

            // 跳过问题
            skipQuestionBtn.addEventListener('click', function () {
                userAnswers.push({
                    question: currentQuestions[currentQuestionIndex].question,
                    answer: '未作答',
                    keywords: currentQuestions[currentQuestionIndex].keywords,
                    correctAnswer: currentQuestions[currentQuestionIndex].answer
                });

                currentQuestionIndex++;
                startQuestion();
            });

            // 提交答案按钮事件
            submitAnswerBtn.addEventListener('click', submitAnswer);

            // 完成面试
            function finishInterview() {
                clearInterval(timerInterval);

                // 计算得分
                const score = calculateScore();

                // 显示结果
                showResults(userAnswers, score, currentInterviewType);

                // 保存到历史记录
                saveToHistory(score);
            }

            // 计算得分
            function calculateScore() {
                let totalScore = 0;

                userAnswers.forEach(answer => {
                    if (answer.answer === '未作答') return;

                    let questionScore = 0;
                    answer.keywords.forEach(keyword => {
                        if (answer.answer.toLowerCase().includes(keyword.toLowerCase())) {
                            questionScore += 20 / answer.keywords.length;
                        }
                    });

                    totalScore += Math.min(questionScore, 20);
                });

                return Math.round(totalScore);
            }

            // 显示结果
            function showResults(answers, score, type) {
                finalScore.textContent = score;
                feedbackArea.innerHTML = '';

                answers.forEach((answer, index) => {
                    const feedbackItem = document.createElement('div');
                    feedbackItem.className = 'feedback-item';

                    // 计算该题得分
                    let questionScore = 0;
                    if (answer.answer !== '未作答') {
                        answer.keywords.forEach(keyword => {
                            if (answer.answer.toLowerCase().includes(keyword.toLowerCase())) {
                                questionScore += 20 / answer.keywords.length;
                            }
                        });
                        questionScore = Math.min(questionScore, 20);
                    }

                    const isCorrect = questionScore >= 10;

                    // 检查哪些关键词匹配了
                    const matchedKeywords = [];
                    const unmatchedKeywords = [];

                    if (answer.answer !== '未作答') {
                        answer.keywords.forEach(keyword => {
                            if (answer.answer.toLowerCase().includes(keyword.toLowerCase())) {
                                matchedKeywords.push(keyword);
                            } else {
                                unmatchedKeywords.push(keyword);
                            }
                        });
                    }

                    feedbackItem.innerHTML = `
                        <div class="feedback-question">问题 ${index + 1}: ${answer.question}</div>
                        <div class="feedback-answer">您的回答: ${answer.answer || '未作答'}</div>
                        <div class="feedback-result ${isCorrect ? 'correct' : 'incorrect'}">
                            <i class="fas ${isCorrect ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                            得分: ${Math.round(questionScore)}/20
                        </div>
                        
                        <div class="correct-answer">
                            <h4><i class="fas fa-lightbulb"></i>参考答案</h4>
                            <p>${answer.correctAnswer}</p>
                        </div>
                        
                        <div class="keywords">
                            <h5><i class="fas fa-key"></i>关键词匹配情况</h5>
                            <div class="keyword-list">
                                ${matchedKeywords.map(keyword =>
                        `<span class="keyword matched">${keyword} ✓</span>`
                    ).join('')}
                                ${unmatchedKeywords.map(keyword =>
                        `<span class="keyword unmatched">${keyword} ✗</span>`
                    ).join('')}
                            </div>
                        </div>
                    `;

                    feedbackArea.appendChild(feedbackItem);
                });

                // 显示结果区域
                resultArea.classList.add('visible');

                // 滚动到结果区域
                resultArea.scrollIntoView({ behavior: 'smooth' });
            }

            // 保存到历史记录
            function saveToHistory(score) {
                const history = JSON.parse(localStorage.getItem('interviewHistory')) || [];

                history.unshift({
                    type: getInterviewTypeName(currentInterviewType),
                    score: score,
                    answers: userAnswers,
                    date: new Date().toISOString()
                });

                // 只保留最近10条记录
                if (history.length > 10) {
                    history.pop();
                }

                localStorage.setItem('interviewHistory', JSON.stringify(history));
                initHistory();
            }

            // 获取面试类型名称
            function getInterviewTypeName(type) {
                const typeNames = {
                    frontend: '前端开发工程师',
                    backend: '后端开发工程师',
                    fullstack: '全栈开发工程师'
                };

                return typeNames[type] || type;
            }

            // 重新开始面试
            restartInterviewBtn.addEventListener('click', function () {
                interviewArea.classList.remove('visible');
                resultArea.classList.remove('visible');

                // 滚动到顶部
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // 导航栏交互效果
            navItems.forEach(item => {
                item.addEventListener('mouseenter', function () {
                    this.style.backgroundColor = '#34495e';
                });

                item.addEventListener('mouseleave', function () {
                    this.style.backgroundColor = '';
                });
            });

            // 移动设备下拉菜单处理
            if (window.innerWidth <= 768) {
                navItems.forEach(item => {
                    item.addEventListener('click', function (e) {
                        if (this.querySelector('.dropdown').style.display === 'block') {
                            this.querySelector('.dropdown').style.display = 'none';
                        } else {
                            document.querySelectorAll('.dropdown').forEach(dropdown => {
                                dropdown.style.display = 'none';
                            });
                            this.querySelector('.dropdown').style.display = 'block';
                        }
                        e.preventDefault();
                    });
                });
            }

            // 初始化历史记录
            initHistory();
        });
    </script>
</body>

</html>
